!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.mChange=i():t.mChange=i()}(window,function(){return function(t){var i={};function n(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)n.d(e,s,function(i){return t[i]}.bind(null,s));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=0)}([function(t,i,n){"use strict";n.r(i);let e=0;class s{constructor(){this.id=++e,this._events={}}$on(t,i){return Array.isArray(t)?t.forEach(t=>this.$on(t,i)):(Array.isArray(i)||(i=[i]),(this._events[t]||(this._events[t]=[])).push(...i)),this}$once(t,i){let n=(...e)=>{this.$off(t,n),i.apply(this,e)};return n.fn=i,this.$on(t,n),this}$off(t,i){if(!arguments.length)return this._events={},this;if(Array.isArray(t))return t.forEach(t=>this.$off(t,i)),this;const n=this._events[t];if(!n)return this;if(!i)return this._events[t]=null,this;if(i){let e,s=n.length;if(Array.isArray(i))return void i.forEach(i=>this.$off(t,i));for(;s--;)if((e=n[s])===i||e.fn===i){n.splice(s,1);break}}return this}$emit(t,...i){let n=this._events[t];return n&&n.forEach(t=>t.apply(this,i)),this}}class h extends s{constructor(t=7,i=9){super(),this.row=t,this.col=i,this.lock=!1}movePoint(t,i={}){if(!0===this.lock)return;t.init(this.row,this.col),this.$emit("changeStart"),this.lock=!0;let n=setInterval(()=>{for(let n=0;n<this.row;n++)for(let e=0;e<this.col;e++)t.check(n,e)&&this.$emit("hitPoint",{point:{x:n,y:e},mode:t,option:i});t.next(),t.end()&&(clearInterval(n),this.$emit("changeEnd"),setTimeout(()=>{this.lock=!1},2e3))},t.interval)}}function o(t,i,n){let e=[`width:${100/n}%;`,`height:${100/i}%;`,"position: absolute;","overflow: hidden;","z-index: 2;"].join(""),s=[`width:${100*n}%;`,`height:${100*i}%;`,"background-size: cover;","display: block;","position: absolute;","z-index: 1;","background-position: 50% 50%;"].join(""),h=[];for(let e=1;e<=i;e++)for(let s=1;s<=n;s++){let o=[`top:${100/i*(e-1)}%;`,`left:${100/n*(s-1)}%;`].join("");h.push(`.${t} .item-${e}-${s}{${o}}`);let r=[`top:${-100*(e-1)}%;`,`left:${-100*(s-1)}%;`].join("");h.push(`.${t} .item-${e}-${s} .child{${r}}`)}let o=[`.${t}{${["position:relative"].join("")}}`,`.${t} .defaultChange{transform: scale(0);border-radius: 50%;}`,`.${t} .animation-item{${e}}`,`.${t} .animation-item .child{${s}}`,h.join("")].join(""),r=document.createElement("style");r.innerHTML=o,document.head.appendChild(r)}function r(t,i,n,e){let s=document.createDocumentFragment(),h=[];for(let t=1;t<=n;t++){let i=[];for(let n=1;n<=e;n++){let e=document.createElement("div");e.className=`animation-item item-${t}-${n}`;let h=document.createElement("div");h.className="child",e.appendChild(h),s.appendChild(e),i.push(e)}h.push(i)}return t.className+=" "+i,t.appendChild(s),h}let u=[{interval:"140",duration:"1000",init(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.ceil((t+i)/2)+2),this.baseNum=this.num},check(t,i){return(t*this.col+i)%(this.baseNum+1)===this.num},next(){this.num--},end(){return-1===this.num}},{interval:"140",duration:"1000",init(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.max((t+i)/2)+2),this.baseNum=this.num},check(t,i){return(t+i*this.row)%(this.baseNum+1)===this.num},next(){this.num--},end(){return-1===this.num}},{interval:"140",duration:"1000",init(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.ceil((t+i)/2)+2),this.baseNum=this.num},check(t,i){return(t*this.col+i)%(this.baseNum+1)==this.baseNum-this.num},next(){this.num--},end(){return-1===this.num}},{interval:"140",duration:"1000",init(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.max((t+i)/2)+2),this.baseNum=this.num},check(t,i){return(t+i*this.row)%(this.baseNum+1)==this.baseNum-this.num},next(){this.num--},end(){return-1===this.num}},{interval:"140",duration:"1000",init(t,i){this.row=t,this.col=i,this.num=0},check(t,i){return t+i===this.num},next(){this.num++},end(){return this.col+this.row+1===this.num}},{interval:"140",duration:"1000",init(t,i){this.row=t,this.col=i,this.num=this.row-1},check(t,i){return t-i===this.num},next(){this.num--},end(){return-this.col===this.num}},{interval:"140",duration:"1000",init(t,i){this.row=t,this.col=i,this.num=1-this.col},check(t,i){return t-i===this.num},next(){this.num++},end(){return this.row===this.num}},{interval:"200",duration:"1200",init(t,i){this.row=t,this.col=i,this.num=0},check(t,i){return t===this.num},next(){this.num++},end(){return this.row===this.num}},{interval:"200",duration:"1200",init(t,i){this.row=t,this.col=i,this.num=0},check(t,i){return i===this.num},next(){this.num++},end(){return this.col===this.num}},{interval:"200",duration:"1200",init(t,i){this.row=t,this.col=i,this.num=this.row-1},check(t,i){return t===this.num},next(){this.num--},end(){return-1===this.num}},{interval:"200",duration:"1200",init(t,i){this.row=t,this.col=i,this.num=this.col-1},check(t,i){return i===this.num},next(){this.num--},end(){return-1===this.num}},{interval:"200",duration:"1200",init(t,i){this.row=t,this.col=i,this.num=0},check(t,i){return t===this.num&&i>=this.num||i===this.num&&t>=this.num},next(){this.num++},end(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:"200",duration:"1200",init(t,i){this.row=t,this.col=i,this.num=0},check(t,i){return this.row-t-1===this.num&&this.col-i-1>=this.num||this.col-i-1===this.num&&this.row-t-1>=this.num},next(){this.num++},end(){return this.row>this.col?this.num===this.row-1:this.num===this.col-1}},{interval:"200",duration:"1200",init(t,i){this.row=t,this.col=i,this.num=0},check(t,i){return t===this.num&&this.col-i-1>=this.num||this.col-i-1===this.num&&t>=this.num},next(){this.num++},end(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:"200",duration:"1200",init(t,i){this.row=t,this.col=i,this.num=0},check(t,i){return this.row-t-1===this.num&&i>=this.num||i===this.num&&this.row-t-1>=this.num},next(){this.num++},end(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:"300",duration:"1400",init(t,i){this.row=t,this.col=i,this.num=0},check(t,i){return t===this.num&&i>=this.num&&this.col-i-1>=this.num||i===this.num&&t>=this.num&&this.row-t-1>=this.num||this.row-t-1===this.num&&i>=this.num&&this.col-i-1>=this.num||this.col-i-1===this.num&&t>=this.num&&this.row-t-1>=this.num},next(){this.num++},end(){return this.row>this.col?Math.ceil(this.col/2)===this.num:Math.ceil(this.row/2)===this.num}},{interval:"320",duration:"1800",init(t,i){this.row=t,this.col=i,this.num=0,this.center={x:(this.row-1)/2,y:(this.col-1)/2}},check(t,i){let n=Math.abs(t-this.center.x)+Math.abs(i-this.center.y);return n<this.num&&n>=this.num-1},next(){this.num++},end(){return this.num-1>this.center.x+this.center.y}},{interval:"300",duration:"1600",init(t,i){this.row=t,this.col=i,this.num=this.row>this.col?Math.ceil((this.col-1)/2):Math.ceil((this.row-1)/2)},check(t,i){return(t===this.num||this.row-1-t===this.num)&&i>=this.num&&this.col-1-i>=this.num||(i===this.num||this.col-1-i===this.num)&&t>=this.num&&this.row-1-t>=this.num},next(){this.num--},end(){return-1===this.num}},{interval:"50",duration:"600",init(t,i){this.row=t,this.col=i,this.point=[[1,0],[0,this.col-1],[this.row-1,this.col-1],[this.row-1,0]],this.direction="row",this.positive=!0,this.iNow=0,this.jNow=0,this.allNum=this.col*this.row},check(t,i){return t===this.iNow&&i===this.jNow},next(){this.allNum--,"row"===this.direction&&this.jNow<this.point[1][1]&&this.positive?(this.jNow++,this.jNow===this.point[1][1]&&(this.direction="col",this.positive=!0,this.point[1]=[this.point[1][0]+1,this.point[1][1]-1])):"col"===this.direction&&this.iNow<this.point[2][0]&&this.positive?(this.iNow++,this.iNow===this.point[2][0]&&(this.direction="row",this.positive=!1,this.point[2]=[this.point[2][0]-1,this.point[2][1]-1])):"row"===this.direction&&this.jNow>this.point[3][1]&&!this.positive?(this.jNow--,this.jNow===this.point[3][1]&&(this.direction="col",this.positive=!1,this.point[3]=[this.point[3][0]-1,this.point[3][1]+1])):"col"===this.direction&&this.iNow>this.point[0][0]&&!this.positive&&(this.iNow--,this.iNow===this.point[0][0]&&(this.direction="row",this.positive=!0,this.point[0]=[this.point[0][0]+1,this.point[0][1]+1]))},end(){return 0===this.allNum}}];function a(t,i){return Math.round(Math.random()*(i-t))+t}let c={nameSpace:function(t){let i="",n=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];for(let e=0;e<t;e++)i+=n[a(0,n.length)];return i}(8),row:7,col:9};function l(t,i){o((i=Object.assign(c,i)).nameSpace,i.row,i.col);let n=r(t,i.nameSpace,i.row,i.col),e=new h(i.row,i.col),s=i.images[0];return n.forEach(t=>{t.forEach(t=>{t.dataset.oldclass=t.className})}),e.$on("changeStart",()=>{s=i.images[a(0,i.images.length-1)]}),e.$on("hitPoint",({point:t,mode:i,option:h})=>{s=h.image?h.image:s;let o=h.className?h.className:"defaultChange",r="",u=n[t.x][t.y];if(u.dataset.change)return;if(e.$emit("changeStart"),h.animate){let t=0,i=()=>{if(u.className=u.dataset.oldclass,1===t)return e.$emit("changeEnd"),void u.removeEventListener("animationend",i);setTimeout(()=>{u.className=`${a} ${r}`}),t=1,u.children[0].style.backgroundImage=`url(${s})`};o=h.classNameOut,r=h.classNameIn?h.classNameIn:h.classNameOut,u.addEventListener("animationend",i)}else{let t=()=>{e.$emit("changeEnd"),u.dataset.mchange="",u.className=u.dataset.oldclass,u.removeEventListener("transitionend",t),u.children[0].style.backgroundImage=`url(${s})`};u.addEventListener("transitionend",t)}let a=u.dataset.oldclass;u.className=`${a} ${o}`,u.dataset.mchange="1",u.style.transition=i.duration/1e3+"s"}),{movePoint:e.movePoint.bind(e),changeImages(t){i.images=t},matrixChange:e}}n.d(i,"Matrix",function(){return h}),n.d(i,"containerLayout",function(){return o}),n.d(i,"initDom",function(){return r}),n.d(i,"mode",function(){return u}),n.d(i,"makeMatrixChange",function(){return l})}])});
//# sourceMappingURL=matrixChange.js.map