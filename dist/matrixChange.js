!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.mChange=i():t.mChange=i()}(window,function(){return function(t){var i={};function n(o){if(i[o])return i[o].exports;var e=i[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,n),e.l=!0,e.exports}return n.m=t,n.c=i,n.d=function(t,i,o){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var e in t)n.d(o,e,function(i){return t[i]}.bind(null,e));return o},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=2)}([function(t,i,n){"use strict";var o=this&&this.__extends||function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function o(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(i,"__esModule",{value:!0});var e=function(t){function i(i,n){void 0===i&&(i=7),void 0===n&&(n=9);var o=t.call(this)||this;return o.row=i,o.col=n,o.lock=!1,o}return o(i,t),i.prototype.movePoint=function(t,i){var n=this;if(void 0===i&&(i={}),!0!==this.lock){t.init(this.row,this.col),this.$emit("changeStart"),this.lock=!0;var o=setInterval(function(){for(var e=0;e<n.row;e++)for(var s=0;s<n.col;s++)t.check(e,s)&&n.$emit("hitPoint",{point:{x:e,y:s},mode:t,option:i});t.next(),t.end()&&(clearInterval(o),n.$emit("changeEnd"),setTimeout(function(){n.lock=!1},2e3))},t.interval)}},i}(n(3).Event);i.Matrix=e},function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.containerLayout=function(t,i,n){for(var o=["width:"+100/n+"%;","height:"+100/i+"%;","position: absolute;","overflow: hidden;","z-index: 2;"].join(""),e=["width:"+100*n+"%;","height:"+100*i+"%;","background-size: cover;","display: block;","position: absolute;","z-index: 1;","background-position: 50% 50%;"].join(""),s=[],r=1;r<=i;r++)for(var u=1;u<=n;u++){var h=["top:"+100/i*(r-1)+"%;","left:"+100/n*(u-1)+"%;"].join("");s.push("."+t+" .item-"+r+"-"+u+"{"+h+"}");var c=["top:"+-100*(r-1)+"%;","left:"+-100*(u-1)+"%;"].join("");s.push("."+t+" .item-"+r+"-"+u+" .child{"+c+"}")}var a=["."+t+"{"+["position:relative"].join("")+"}","."+t+" .defaultChange{transform: scale(0);border-radius: 50%;}","."+t+" .animation-item{"+o+"}","."+t+" .animation-item .child{"+e+"}",s.join("")].join(""),l=document.createElement("style");l.innerHTML=a,document.head.appendChild(l)},i.initDom=function(t,i,n,o){for(var e=document.createDocumentFragment(),s=[],r=1;r<=n;r++){for(var u=[],h=1;h<=o;h++){var c=document.createElement("div");c.className="animation-item item-"+r+"-"+h;var a=document.createElement("div");a.className="child",c.appendChild(a),e.appendChild(c),u.push(c)}s.push(u)}return t.className+=" "+i,t.appendChild(e),s}},function(t,i,n){"use strict";function o(t){for(var n in t)i.hasOwnProperty(n)||(i[n]=t[n])}Object.defineProperty(i,"__esModule",{value:!0}),o(n(0)),o(n(1)),o(n(4)),o(n(5))},function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=0,e=function(){function t(){this.id=o++,this._events={}}return t.prototype.$on=function(t,i){var n,o=this;return Array.isArray(t)?t.forEach(function(t){return o.$on(t,i)}):(Array.isArray(i)||(i=[i]),(n=this._events[t]||(this._events[t]=[])).push.apply(n,i)),this},t.prototype.$once=function(t,i){var n=this,o=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];n.$off(t,o),i.apply(n,e)};return o.fn=i,this.$on(t,o),this},t.prototype.$off=function(t,i){var n=this;if(!arguments.length)return this._events={},this;if(Array.isArray(t))return t.forEach(function(t){return n.$off(t,i)}),this;var o=this._events[t];if(!o)return this;if(!i)return this._events[t]=null,this;if(i){var e=void 0,s=o.length;if(Array.isArray(i))return void i.forEach(function(i){return n.$off(t,i)});for(;s--;)if((e=o[s])===i||e.fn===i){o.splice(s,1);break}}return this},t.prototype.$emit=function(t){for(var i=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var e=this._events[t];return e&&e.forEach(function(t){return t.apply(i,n)}),this},t}();i.Event=e},function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mode=[{interval:"140",duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.ceil((t+i)/2)+2),this.baseNum=this.num},check:function(t,i){return(t*this.col+i)%(this.baseNum+1)===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"140",duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.max((t+i)/2)+2),this.baseNum=this.num},check:function(t,i){return(t+i*this.row)%(this.baseNum+1)===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"140",duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.ceil((t+i)/2)+2),this.baseNum=this.num},check:function(t,i){return(t*this.col+i)%(this.baseNum+1)==this.baseNum-this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"140",duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=Math.ceil(Math.random()*Math.max((t+i)/2)+2),this.baseNum=this.num},check:function(t,i){return(t+i*this.row)%(this.baseNum+1)==this.baseNum-this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"140",duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return t+i===this.num},next:function(){this.num++},end:function(){return this.col+this.row+1===this.num}},{interval:"140",duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=this.row-1},check:function(t,i){return t-i===this.num},next:function(){this.num--},end:function(){return-this.col===this.num}},{interval:"140",duration:"1000",init:function(t,i){this.row=t,this.col=i,this.num=1-this.col},check:function(t,i){return t-i===this.num},next:function(){this.num++},end:function(){return this.row===this.num}},{interval:"200",duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return t===this.num},next:function(){this.num++},end:function(){return this.row===this.num}},{interval:"200",duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return i===this.num},next:function(){this.num++},end:function(){return this.col===this.num}},{interval:"200",duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=this.row-1},check:function(t,i){return t===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"200",duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=this.col-1},check:function(t,i){return i===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"200",duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return t===this.num&&i>=this.num||i===this.num&&t>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:"200",duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return this.row-t-1===this.num&&this.col-i-1>=this.num||this.col-i-1===this.num&&this.row-t-1>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.num===this.row-1:this.num===this.col-1}},{interval:"200",duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return t===this.num&&this.col-i-1>=this.num||this.col-i-1===this.num&&t>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:"200",duration:"1200",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return this.row-t-1===this.num&&i>=this.num||i===this.num&&this.row-t-1>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:"300",duration:"1400",init:function(t,i){this.row=t,this.col=i,this.num=0},check:function(t,i){return t===this.num&&i>=this.num&&this.col-i-1>=this.num||i===this.num&&t>=this.num&&this.row-t-1>=this.num||this.row-t-1===this.num&&i>=this.num&&this.col-i-1>=this.num||this.col-i-1===this.num&&t>=this.num&&this.row-t-1>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?Math.ceil(this.col/2)===this.num:Math.ceil(this.row/2)===this.num}},{interval:"320",duration:"1800",init:function(t,i){this.row=t,this.col=i,this.num=0,this.center={x:(this.row-1)/2,y:(this.col-1)/2}},check:function(t,i){var n=Math.abs(t-this.center.x)+Math.abs(i-this.center.y);return n<this.num&&n>=this.num-1},next:function(){this.num++},end:function(){return this.num-1>this.center.x+this.center.y}},{interval:"300",duration:"1600",init:function(t,i){this.row=t,this.col=i,this.num=this.row>this.col?Math.ceil((this.col-1)/2):Math.ceil((this.row-1)/2)},check:function(t,i){return(t===this.num||this.row-1-t===this.num)&&i>=this.num&&this.col-1-i>=this.num||(i===this.num||this.col-1-i===this.num)&&t>=this.num&&this.row-1-t>=this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"50",duration:"600",init:function(t,i){this.row=t,this.col=i,this.point=[[1,0],[0,this.col-1],[this.row-1,this.col-1],[this.row-1,0]],this.direction="row",this.positive=!0,this.iNow=0,this.jNow=0,this.allNum=this.col*this.row},check:function(t,i){return t===this.iNow&&i===this.jNow},next:function(){this.allNum--,"row"===this.direction&&this.jNow<this.point[1][1]&&this.positive?(this.jNow++,this.jNow===this.point[1][1]&&(this.direction="col",this.positive=!0,this.point[1]=[this.point[1][0]+1,this.point[1][1]-1])):"col"===this.direction&&this.iNow<this.point[2][0]&&this.positive?(this.iNow++,this.iNow===this.point[2][0]&&(this.direction="row",this.positive=!1,this.point[2]=[this.point[2][0]-1,this.point[2][1]-1])):"row"===this.direction&&this.jNow>this.point[3][1]&&!this.positive?(this.jNow--,this.jNow===this.point[3][1]&&(this.direction="col",this.positive=!1,this.point[3]=[this.point[3][0]-1,this.point[3][1]+1])):"col"===this.direction&&this.iNow>this.point[0][0]&&!this.positive&&(this.iNow--,this.iNow===this.point[0][0]&&(this.direction="row",this.positive=!0,this.point[0]=[this.point[0][0]+1,this.point[0][1]+1]))},end:function(){return 0===this.allNum}}]},function(t,i,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var i,n=1,o=arguments.length;n<o;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t}).apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0});var e=n(0),s=n(1);function r(t,i){return Math.round(Math.random()*(i-t))+t}var u={nameSpace:function(t){for(var i="",n=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],o=0;o<t;o++)i+=n[r(0,n.length)];return i}(8),row:7,col:9};i.makeMatrixChange=function(t,i){i=o({},u,i),s.containerLayout(i.nameSpace,i.row,i.col);var n=s.initDom(t,i.nameSpace,i.row,i.col),h=new e.Matrix(i.row,i.col),c=i.images[0];return n.forEach(function(t){t.forEach(function(t){t.dataset.oldclass=t.className})}),h.$on("changeStart",function(){c=i.images[r(0,i.images.length-1)]}),h.$on("hitPoint",function(t){var i=t.point,o=t.mode,e=t.option;c=e.image?e.image:c;var s=e.className?e.className:"defaultChange",r="",u=n[i.x][i.y];if(!u.dataset.change){if(e.animate){var h=0,a=function(){u.className=u.dataset.oldclass,1!==h?(setTimeout(function(){u.className=m+" "+r}),h=1,u.children[0].style.backgroundImage="url("+c+")"):u.removeEventListener("animationend",a)};s=e.classNameOut,r=e.classNameIn?e.classNameIn:e.classNameOut,u.addEventListener("animationend",a)}else{var l=function(){u.dataset.mchange="",u.className=u.dataset.oldclass,u.removeEventListener("transitionend",l),u.children[0].style.backgroundImage="url("+c+")"};u.addEventListener("transitionend",l)}var m=u.dataset.oldclass;u.className=m+" "+s,u.dataset.mchange="1",u.style.transition=o.duration/1e3+"s"}}),{movePoint:h.movePoint.bind(h),changeImages:function(t){i.images=t},matrixChange:h}}}])});
//# sourceMappingURL=matrixChange.js.map