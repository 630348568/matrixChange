!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.mChange=n():t.mChange=n()}(window,function(){return function(t){var n={};function i(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=t,i.c=n,i.d=function(t,n,o){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)i.d(o,e,function(n){return t[n]}.bind(null,e));return o},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=12)}([function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n){function i(t,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,n,o){return n&&i(t.prototype,n),o&&i(t,o),t}},function(t,n,i){var o=i(6),e=i(7);t.exports=function(t,n){return!n||"object"!==o(n)&&"function"!=typeof n?e(t):n}},function(t,n){function i(n){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(n)}t.exports=i},function(t,n,i){var o=i(8);t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}},function(t,n,i){var o=i(9),e=i(10),r=i(11);t.exports=function(t){return o(t)||e(t)||r()}},function(t,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(n){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?t.exports=o=function(t){return i(t)}:t.exports=o=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)},o(n)}t.exports=o},function(t,n){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,n){function i(n,o){return t.exports=i=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},i(n,o)}t.exports=i},function(t,n){t.exports=function(t){if(Array.isArray(t)){for(var n=0,i=new Array(t.length);n<t.length;n++)i[n]=t[n];return i}}},function(t,n){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,n,i){"use strict";i.r(n);var o=i(0),e=i.n(o),r=i(1),s=i.n(r),u=i(2),c=i.n(u),h=i(3),a=i.n(h),f=i(4),l=i.n(f),m=i(5),d=i.n(m),p=0,v=function(t){function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;return e()(this,n),(t=c()(this,a()(n).call(this))).row=i,t.col=o,t.lock=!1,t}return l()(n,t),s()(n,[{key:"movePoint",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.lock){var o=this;t.init(this.row,this.col),o.$emit("changeStart"),this.lock=!0;var e=setInterval(function(){for(var r=0;r<o.row;r++)for(var s=0;s<o.col;s++)t.check(r,s)&&o.$emit("hitPoint",{point:{x:r,y:s},mode:t,option:i});t.next(),t.end()&&(clearInterval(e),o.$emit("changeEnd"),setTimeout(function(){n.lock=!1},2e3))},t.interval)}}}]),n}(function(){function t(){e()(this,t),this.id=++p,this._events={}}return s()(t,[{key:"$on",value:function(t,n){var i,o=this;Array.isArray(t)?t.forEach(function(t){return o.$on(t,n)}):(Array.isArray(n)||(n=[n]),(i=this._events[t]||(this._events[t]=[])).push.apply(i,d()(n)));return this}},{key:"$once",value:function(t,n){var i=this;function o(){i.$off(t,o),n.apply(i,arguments)}return o.fn=n,i.$on(t,o),i}},{key:"$off",value:function(t,n){var i=this;if(!arguments.length)return this._events={},this;if(Array.isArray(t))return t.forEach(function(t){return i.$off(t,n)}),this;var o=this._events[t];if(!o)return this;if(!n)return this._events[t]=null,this;if(n){var e,r=o.length;if(Array.isArray(n))return void n.forEach(function(n){return i.$off(t,n)});for(;r--;)if((e=o[r])===n||e.fn===n){o.splice(r,1);break}}return this}},{key:"$emit",value:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var e=this,r=e._events[t];return r&&r.forEach(function(t){return t.apply(e,i)}),e}}]),t}());function w(t,n,i){for(var o=["width:".concat(100/i,"%;"),"height:".concat(100/n,"%;"),"position: absolute;","overflow: hidden;","z-index: 2;"].join(""),e=["width:".concat(100*i,"%;"),"height:".concat(100*n,"%;"),"background-size: cover;","display: block;","position: absolute;","z-index: 1;","background-position: 50% 50%;"].join(""),r=[],s=1;s<=n;s++)for(var u=1;u<=i;u++){var c=["top:".concat(100/n*(s-1),"%;"),"left:".concat(100/i*(u-1),"%;")].join("");r.push(".".concat(t," .item-").concat(s,"-").concat(u,"{").concat(c,"}"));var h=["top:".concat(-100*(s-1),"%;"),"left:".concat(-100*(u-1),"%;")].join("");r.push(".".concat(t," .item-").concat(s,"-").concat(u," .child{").concat(h,"}"))}var a=["position:relative"].join(""),f=[".".concat(t,"{").concat(a,"}"),".".concat(t," .defaultChange{transform: scale(0);border-radius: 50%;}"),".".concat(t," .animation-item{").concat(o,"}"),".".concat(t," .animation-item .child{").concat(e,"}"),r.join("")].join(""),l=document.createElement("style");l.innerHTML=f,document.head.appendChild(l)}function y(t,n,i,o){for(var e=document.createDocumentFragment(),r=[],s=1;s<=i;s++){for(var u=[],c=1;c<=o;c++){var h=document.createElement("div");h.className="animation-item item-".concat(s,"-").concat(c);var a=document.createElement("div");a.className="child",h.appendChild(a),e.appendChild(h),u.push(h)}r.push(u)}return t.className+=" "+n,t.appendChild(e),r}var b=[{interval:"140",duration:"1000",init:function(t,n){this.row=t,this.col=n,this.num=Math.ceil(Math.random()*Math.ceil((t+n)/2)+2),this.baseNum=this.num},check:function(t,n){return(t*this.col+n)%(this.baseNum+1)===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"140",duration:"1000",init:function(t,n){this.row=t,this.col=n,this.num=Math.ceil(Math.random()*Math.max((t+n)/2)+2),this.baseNum=this.num},check:function(t,n){return(t+n*this.row)%(this.baseNum+1)===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"140",duration:"1000",init:function(t,n){this.row=t,this.col=n,this.num=Math.ceil(Math.random()*Math.ceil((t+n)/2)+2),this.baseNum=this.num},check:function(t,n){return(t*this.col+n)%(this.baseNum+1)==this.baseNum-this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"140",duration:"1000",init:function(t,n){this.row=t,this.col=n,this.num=Math.ceil(Math.random()*Math.max((t+n)/2)+2),this.baseNum=this.num},check:function(t,n){return(t+n*this.row)%(this.baseNum+1)==this.baseNum-this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"140",duration:"1000",init:function(t,n){this.row=t,this.col=n,this.num=0},check:function(t,n){return t+n===this.num},next:function(){this.num++},end:function(){return this.col+this.row+1===this.num}},{interval:"140",duration:"1000",init:function(t,n){this.row=t,this.col=n,this.num=this.row-1},check:function(t,n){return t-n===this.num},next:function(){this.num--},end:function(){return-this.col===this.num}},{interval:"140",duration:"1000",init:function(t,n){this.row=t,this.col=n,this.num=1-this.col},check:function(t,n){return t-n===this.num},next:function(){this.num++},end:function(){return this.row===this.num}},{interval:"200",duration:"1200",init:function(t,n){this.row=t,this.col=n,this.num=0},check:function(t,n){return t===this.num},next:function(){this.num++},end:function(){return this.row===this.num}},{interval:"200",duration:"1200",init:function(t,n){this.row=t,this.col=n,this.num=0},check:function(t,n){return n===this.num},next:function(){this.num++},end:function(){return this.col===this.num}},{interval:"200",duration:"1200",init:function(t,n){this.row=t,this.col=n,this.num=this.row-1},check:function(t,n){return t===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"200",duration:"1200",init:function(t,n){this.row=t,this.col=n,this.num=this.col-1},check:function(t,n){return n===this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"200",duration:"1200",init:function(t,n){this.row=t,this.col=n,this.num=0},check:function(t,n){return t===this.num&&n>=this.num||n===this.num&&t>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:"200",duration:"1200",init:function(t,n){this.row=t,this.col=n,this.num=0},check:function(t,n){return this.row-t-1===this.num&&this.col-n-1>=this.num||this.col-n-1===this.num&&this.row-t-1>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.num===this.row-1:this.num===this.col-1}},{interval:"200",duration:"1200",init:function(t,n){this.row=t,this.col=n,this.num=0},check:function(t,n){return t===this.num&&this.col-n-1>=this.num||this.col-n-1===this.num&&t>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:"200",duration:"1200",init:function(t,n){this.row=t,this.col=n,this.num=0},check:function(t,n){return this.row-t-1===this.num&&n>=this.num||n===this.num&&this.row-t-1>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?this.row-1===this.num:this.col-1===this.num}},{interval:"300",duration:"1400",init:function(t,n){this.row=t,this.col=n,this.num=0},check:function(t,n){return t===this.num&&n>=this.num&&this.col-n-1>=this.num||n===this.num&&t>=this.num&&this.row-t-1>=this.num||this.row-t-1===this.num&&n>=this.num&&this.col-n-1>=this.num||this.col-n-1===this.num&&t>=this.num&&this.row-t-1>=this.num},next:function(){this.num++},end:function(){return this.row>this.col?Math.ceil(this.col/2)===this.num:Math.ceil(this.row/2)===this.num}},{interval:"320",duration:"1800",init:function(t,n){this.row=t,this.col=n,this.num=0,this.center={x:(this.row-1)/2,y:(this.col-1)/2}},check:function(t,n){var i=Math.abs(t-this.center.x)+Math.abs(n-this.center.y);return i<this.num&&i>=this.num-1},next:function(){this.num++},end:function(){return this.num-1>this.center.x+this.center.y}},{interval:"300",duration:"1600",init:function(t,n){this.row=t,this.col=n,this.num=this.row>this.col?Math.ceil((this.col-1)/2):Math.ceil((this.row-1)/2)},check:function(t,n){return(t===this.num||this.row-1-t===this.num)&&n>=this.num&&this.col-1-n>=this.num||(n===this.num||this.col-1-n===this.num)&&t>=this.num&&this.row-1-t>=this.num},next:function(){this.num--},end:function(){return-1===this.num}},{interval:"50",duration:"600",init:function(t,n){this.row=t,this.col=n,this.point=[[1,0],[0,this.col-1],[this.row-1,this.col-1],[this.row-1,0]],this.direction="row",this.positive=!0,this.iNow=0,this.jNow=0,this.allNum=this.col*this.row},check:function(t,n){return t===this.iNow&&n===this.jNow},next:function(){this.allNum--,"row"===this.direction&&this.jNow<this.point[1][1]&&this.positive?(this.jNow++,this.jNow===this.point[1][1]&&(this.direction="col",this.positive=!0,this.point[1]=[this.point[1][0]+1,this.point[1][1]-1])):"col"===this.direction&&this.iNow<this.point[2][0]&&this.positive?(this.iNow++,this.iNow===this.point[2][0]&&(this.direction="row",this.positive=!1,this.point[2]=[this.point[2][0]-1,this.point[2][1]-1])):"row"===this.direction&&this.jNow>this.point[3][1]&&!this.positive?(this.jNow--,this.jNow===this.point[3][1]&&(this.direction="col",this.positive=!1,this.point[3]=[this.point[3][0]-1,this.point[3][1]+1])):"col"===this.direction&&this.iNow>this.point[0][0]&&!this.positive&&(this.iNow--,this.iNow===this.point[0][0]&&(this.direction="row",this.positive=!0,this.point[0]=[this.point[0][0]+1,this.point[0][1]+1]))},end:function(){return 0===this.allNum}}];function x(t,n){return Math.round(Math.random()*(n-t))+t}var g={nameSpace:function(t){for(var n="",i=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],o=0;o<t;o++)n+=i[x(0,i.length)];return n}(8),row:7,col:9};function N(t,n){w((n=Object.assign(g,n)).nameSpace,n.row,n.col);var i=y(t,n.nameSpace,n.row,n.col),o=new v(n.row,n.col),e=n.images[0];return i.forEach(function(t){t.forEach(function(t){t.dataset.oldclass=t.className})}),o.$on("changeStart",function(){e=n.images[x(0,n.images.length-1)]}),o.$on("hitPoint",function(t){var n=t.point,r=t.mode,s=t.option;e=s.image?s.image:e;var u=s.className?s.className:"defaultChange",c="",h=i[n.x][n.y];if(!h.dataset.change){if(o.$emit("changeStart"),s.animate){var a=0;u=s.classNameOut,c=s.classNameIn?s.classNameIn:s.classNameOut,h.addEventListener("animationend",function t(){if(h.className=h.dataset.oldclass,1===a)return o.$emit("changeEnd"),void h.removeEventListener("animationend",t);h.children[0].style.backgroundImage="url(".concat(e,")"),setTimeout(function(){h.className="".concat(f," ").concat(c)}),a=1})}else{h.addEventListener("transitionend",function t(){o.$emit("changeEnd"),h.dataset.mchange="",h.children[0].style.backgroundImage="url(".concat(e,")"),h.className=h.dataset.oldclass,h.removeEventListener("transitionend",t)})}var f=h.dataset.oldclass;h.className="".concat(f," ").concat(u),h.dataset.mchange="1",h.style.transition=r.duration/1e3+"s"}}),{movePoint:o.movePoint.bind(o),changeImages:function(t){n.images=t},matrixChange:o}}i.d(n,"Matrix",function(){return v}),i.d(n,"containerLayout",function(){return w}),i.d(n,"initDom",function(){return y}),i.d(n,"mode",function(){return b}),i.d(n,"makeMatrixChange",function(){return N})}])});
//# sourceMappingURL=matrixChange.js.map